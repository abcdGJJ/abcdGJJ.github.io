<!-- build time:Tue Jan 22 2019 16:30:36 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next pisces use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=1.0.2" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.png?v=1.0.2"><link rel="icon" type="image/png" sizes="32x32" href="/favicon32x32.png?v=1.0.2"><link rel="icon" type="image/png" sizes="16x16" href="/favicon16x16.png?v=1.0.2"><link rel="mask-icon" href="/favicon.svg?v=1.0.2" color="#222"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"1.0.2",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="本文翻译自30-seconds-of-code，可以理解为高阶函数片段。原作者说是30s内就可以理解，而我每一个都看了几分钟。Adapterary创建一个最多接受n个参数的函数，多余的参数将被忽略。使用Array.prototype.slice(0,n)和扩展运算符（...），调用提供的函数发fn，并且最多有n个参数。1234const ary = (fn, n) =&amp;gt; (...args)"><meta name="keywords" content="JavaScript"><meta property="og:type" content="article"><meta property="og:title" content="30s内即可理解的JavaScript片段"><meta property="og:url" content="https://gaojiajun.cn/2018/10/30-seconds-of-code/index.html"><meta property="og:site_name" content="高嘉君的个人博客"><meta property="og:description" content="本文翻译自30-seconds-of-code，可以理解为高阶函数片段。原作者说是30s内就可以理解，而我每一个都看了几分钟。Adapterary创建一个最多接受n个参数的函数，多余的参数将被忽略。使用Array.prototype.slice(0,n)和扩展运算符（...），调用提供的函数发fn，并且最多有n个参数。1234const ary = (fn, n) =&amp;gt; (...args)"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2018-12-03T10:00:32.501Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="30s内即可理解的JavaScript片段"><meta name="twitter:description" content="本文翻译自30-seconds-of-code，可以理解为高阶函数片段。原作者说是30s内就可以理解，而我每一个都看了几分钟。Adapterary创建一个最多接受n个参数的函数，多余的参数将被忽略。使用Array.prototype.slice(0,n)和扩展运算符（...），调用提供的函数发fn，并且最多有n个参数。1234const ary = (fn, n) =&amp;gt; (...args)"><link rel="canonical" href="https://gaojiajun.cn/2018/10/30-seconds-of-code/"><script type="text/javascript" id="page.configurations">CONFIG.page={sidebar:""}</script><title>30s内即可理解的JavaScript片段 | 高嘉君的个人博客</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?fe9b7ee0648033db8df76416c2f766f8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style type="text/css">.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">高嘉君的个人博客</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://gaojiajun.cn/2018/10/30-seconds-of-code/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="abcdGJJ"><meta itemprop="description" content="这里是高嘉君的个人博客"><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="高嘉君的个人博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">30s内即可理解的JavaScript片段</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-10-04 14:16:48" itemprop="dateCreated datePublished" datetime="2018-10-04T14:16:48+08:00">2018-10-04</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2018-12-03 18:00:32" itemprop="dateModified" datetime="2018-12-03T18:00:32+08:00">2018-12-03</time> </span><span id="/2018/10/30-seconds-of-code/" class="leancloud_visitors" data-flag-title="30s内即可理解的JavaScript片段"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span title="本文字数">31k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">28 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><p>本文翻译自<a href="//github.com/30-seconds/30-seconds-of-code#table-of-contents">30-seconds-of-code</a>，可以理解为高阶函数片段。原作者说是30s内就可以理解，而我每一个都看了几分钟。</p><h1 id="Adapter"><a href="#Adapter" class="headerlink" title="Adapter"></a>Adapter</h1><h2 id="ary"><a href="#ary" class="headerlink" title="ary"></a>ary</h2><p>创建一个最多接受<code>n</code>个参数的函数，多余的参数将被忽略。</p><p>使用<code>Array.prototype.slice(0,n)</code>和扩展运算符（<code>...</code>），调用提供的函数发fn，并且最多有n个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary = <span class="function">(<span class="params">fn, n</span>) =&gt;</span> (...args) =&gt; fn(...args.slice(<span class="number">0</span>, n));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> firstTwoMax = ary(<span class="built_in">Math</span>.max, <span class="number">2</span>);</span><br><span class="line">[[<span class="number">2</span>, <span class="number">6</span>, <span class="string">'a'</span>], [<span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>], [<span class="number">10</span>]].map(<span class="function"><span class="params">x</span> =&gt;</span> firstTwoMax(...x)); <span class="comment">// [6, 8, 10]</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>接受一个键值和一组参数，在给定上下文时调用它们。主要用于组合。</p><p>使用闭包在调用的时候存储键值和参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> call = <span class="function">(<span class="params">key, ...args</span>) =&gt;</span> context =&gt; context[key](...args);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">  .then(call(<span class="string">'map'</span>, x =&gt; <span class="number">2</span> * x))</span><br><span class="line">  .then(<span class="built_in">console</span>.log); <span class="comment">//[ 2, 4, 6 ] 能想到这么写的绝对是个人才</span></span><br><span class="line"><span class="keyword">const</span> map = call.bind(<span class="literal">null</span>, <span class="string">'map'</span>); <span class="comment">// bind不会立即执行，call、apply才会</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">  .then(map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="number">2</span> * x))</span><br><span class="line">  .then(<span class="built_in">console</span>.log); <span class="comment">//[ 2, 4, 6 ]</span></span><br></pre></td></tr></table></figure><h2 id="collectInto"><a href="#collectInto" class="headerlink" title="collectInto"></a>collectInto</h2><p>将接受数组的函数变为接受变量的函数。</p><p>给定一个函数，返回一个闭包，该闭包将所有输入收集到一个接受数组的函数中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> collectInto = <span class="function"><span class="params">fn</span> =&gt;</span> (...args) =&gt; fn(args);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> Pall = collectInto(<span class="built_in">Promise</span>.all.bind(<span class="built_in">Promise</span>));</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="built_in">Promise</span>.resolve(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, <span class="number">2000</span>, <span class="number">3</span>)); <span class="comment">// 这么写很精髓</span></span><br><span class="line">Pall(p1, p2, p3).then(<span class="built_in">console</span>.log); <span class="comment">// [1, 2, 3] (after about 2 seconds)</span></span><br></pre></td></tr></table></figure><h2 id="flip"><a href="#flip" class="headerlink" title="flip"></a>flip</h2><p>flip将函数作为参数，然后把闭包里的第一个参数作为最后一个参数。</p><p>返回一个可以接受变量输入的闭包，并展开剩余参数，之后将其变为第一个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flip = <span class="function"><span class="params">fn</span> =&gt;</span> (first, ...rest) =&gt; fn(...rest, first);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">name</span>: <span class="string">'John Smith'</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> mergeFrom = flip(<span class="built_in">Object</span>.assign);</span><br><span class="line"><span class="keyword">let</span> mergePerson = mergeFrom.bind(<span class="literal">null</span>, a);</span><br><span class="line">mergePerson(b); <span class="comment">// == b</span></span><br><span class="line">b = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(b, a); <span class="comment">// == b</span></span><br></pre></td></tr></table></figure><h2 id="over"><a href="#over" class="headerlink" title="over"></a>over</h2><p>创建一个函数，调用参数中所有的函数并返回结果。</p><p>使用<code>Array.prototype.map()</code>和<code>Function.prototype.apply()</code>将每个函数应用于给定的参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> over = <span class="function">(<span class="params">...fns</span>) =&gt;</span> (...args) =&gt; fns.map(<span class="function"><span class="params">fn</span> =&gt;</span> fn.apply(<span class="literal">null</span>, args));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> minMax = over(<span class="built_in">Math</span>.min, <span class="built_in">Math</span>.max);</span><br><span class="line">minMax(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">// [1,5]</span></span><br></pre></td></tr></table></figure><h2 id="overArgs"><a href="#overArgs" class="headerlink" title="overArgs"></a>overArgs</h2><p>创建一个函数，调用参数中的函数并将闭包中的参数按提供的函数转换。</p><p>使用<code>Array.prototype.map()</code>与扩展运算符(<code>...</code>)将转换后的参数传递给<code>fn</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> overArgs = <span class="function">(<span class="params">fn, transforms</span>) =&gt;</span> (...args) =&gt; fn(...args.map(<span class="function">(<span class="params">val, i</span>) =&gt;</span> transforms[i](val)));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="params">n</span> =&gt;</span> n * n;</span><br><span class="line"><span class="keyword">const</span> double = <span class="function"><span class="params">n</span> =&gt;</span> n * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> fn = overArgs(<span class="function">(<span class="params">x, y</span>) =&gt;</span> [x, y], [square, double]);</span><br><span class="line">fn(<span class="number">9</span>, <span class="number">3</span>); <span class="comment">// [81, 6]</span></span><br></pre></td></tr></table></figure><h2 id="pipeAsyncFunctions"><a href="#pipeAsyncFunctions" class="headerlink" title="pipeAsyncFunctions"></a>pipeAsyncFunctions</h2><p>这个函数实在是太复杂了，稍后再译。</p><p>Performs left-to-right function composition for asynchronous functions.</p><p>Use <code>Array.prototype.reduce()</code> with the spread operator (<code>...</code>) to perform left-to-right function composition using <code>Promise.then()</code>. The functions can return a combination of: simple values, <code>Promise</code>‘s, or they can be defined as <code>async</code> ones returning through <code>await</code>. All functions must be unary.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pipeAsyncFunctions = <span class="function">(<span class="params">...fns</span>) =&gt;</span> arg =&gt; fns.reduce(<span class="function">(<span class="params">p, f</span>) =&gt;</span> p.then(f), <span class="built_in">Promise</span>.resolve(arg));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> sum = pipeAsyncFunctions(</span><br><span class="line">  x =&gt; x + <span class="number">1</span>,</span><br><span class="line">  x =&gt; <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(x + <span class="number">2</span>), <span class="number">1000</span>)),</span><br><span class="line">  x =&gt; x + <span class="number">3</span>,</span><br><span class="line">  <span class="keyword">async</span> x =&gt; (<span class="keyword">await</span> x) + <span class="number">4</span></span><br><span class="line">);</span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> sum(<span class="number">5</span>)); <span class="comment">// 15 (after one second)</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h2 id="pipeFunctions"><a href="#pipeFunctions" class="headerlink" title="pipeFunctions"></a>pipeFunctions</h2><p>按照从左到右的函数顺序执行。</p><p>借助<code>Array.prototype.reduce()</code>与扩展运算符(<code>...</code>)实现从左到右的函数合成。第一个(最左边的)函数可以接受一个或多个参数，其他的函数必须是一个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pipeFunctions = <span class="function">(<span class="params">...fns</span>) =&gt;</span> fns.reduce(<span class="function">(<span class="params">f, g</span>) =&gt;</span> (...args) =&gt; g(f(...args)));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> add5 = <span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> multiply = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y;</span><br><span class="line"><span class="keyword">const</span> multiplyAndAdd5 = pipeFunctions(multiply, add5);</span><br><span class="line">multiplyAndAdd5(<span class="number">5</span>, <span class="number">2</span>); <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><h2 id="promisify"><a href="#promisify" class="headerlink" title="promisify"></a>promisify</h2><p>转换异步函数并返回promise。</p><p>返回一个调用原始函数后的返回promise的函数。使用<code>...rest</code>运算符传递所有参数。</p><p>在Node 8+，你可以使用<code>util.promify</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promisify = <span class="function"><span class="params">func</span> =&gt;</span> (...args) =&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span></span><br><span class="line">    func(...args, (err, result) =&gt; (err ? reject(err) : resolve(result)))</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> delay = promisify(<span class="function">(<span class="params">d, cb</span>) =&gt;</span> setTimeout(cb, d));</span><br><span class="line">delay(<span class="number">2000</span>).then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Hi!'</span>)); <span class="comment">// // Promise resolves after 2s</span></span><br></pre></td></tr></table></figure><h2 id="rearg"><a href="#rearg" class="headerlink" title="rearg"></a>rearg</h2><p>创建一个调用所提供函数的函数，其参数按照指定的索引排列。</p><p>使用<code>Array.prototype.map( )</code>基于<code>indexes</code>对参数重新排序，并结合扩展运算符(…)将转换后的参数传递给<code>fn</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rearg = <span class="function">(<span class="params">fn, indexes</span>) =&gt;</span> (...args) =&gt; fn(...indexes.map(<span class="function"><span class="params">i</span> =&gt;</span> args[i]));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">var</span> rearged = rearg(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [a, b, c];</span><br><span class="line">  &#125;,</span><br><span class="line">  [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">);</span><br><span class="line">rearged(<span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>); <span class="comment">// ['a', 'b', 'c']</span></span><br></pre></td></tr></table></figure><h2 id="spreadOver"><a href="#spreadOver" class="headerlink" title="spreadOver"></a>spreadOver</h2><p>接受一个函数并返回一个闭包，该闭包接受一组参数并映射到函数的变量。</p><p>使用闭包和扩展运算符(<code>...</code>)将数组映射为函数的变量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> spreadOver = <span class="function"><span class="params">fn</span> =&gt;</span> argsArr =&gt; fn(...argsArr);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> arrayMax = spreadOver(<span class="built_in">Math</span>.max);</span><br><span class="line">arrayMax([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="unary"><a href="#unary" class="headerlink" title="unary"></a>unary</h2><p>创建一个只接受一个参数的函数，忽略任何其他参数。</p><p>调用提供的函数<code>fn</code>，只传入一个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unary = <span class="function"><span class="params">fn</span> =&gt;</span> val =&gt; fn(val);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">[<span class="string">'6'</span>, <span class="string">'8'</span>, <span class="string">'10'</span>].map(unary(<span class="built_in">parseInt</span>)); <span class="comment">// [6, 8, 10]</span></span><br></pre></td></tr></table></figure><h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><h2 id="all"><a href="#all" class="headerlink" title="all"></a>all</h2><p>如果数组中的所有元素执行给定的函数都返回<code>true</code>，则返回<code>true</code>，否则返回<code>false</code>。</p><p>使用<code>Array.prototype.very()</code>遍历数组中的所有元素是否执行<code>fn</code>返回<code>true</code>。如果省略第二个参数<code>fn</code>，将使用<code>Boolean</code>函数作为默认值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> all = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> arr.every(fn);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">all([<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x &gt; <span class="number">1</span>); <span class="comment">// true</span></span><br><span class="line">all([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="allEqual"><a href="#allEqual" class="headerlink" title="allEqual"></a>allEqual</h2><p>检查数组中的所有元素是否相等。</p><p>使用<code>Array.prototype.very()</code>检查数组中的所有元素是否与第一个元素相同。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> allEqual = <span class="function"><span class="params">arr</span> =&gt;</span> arr.every(<span class="function"><span class="params">val</span> =&gt;</span> val === arr[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">allEqual([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]); <span class="comment">// false</span></span><br><span class="line">allEqual([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="any"><a href="#any" class="headerlink" title="any"></a>any</h2><p>如果数组中至少有一个元素执行给定的函数都返回<code>true</code>，则返回<code>true</code>，否则返回<code>false</code>。</p><p>使用<code>Array.prototype.some()</code>遍历集合中是否有元素调用<code>fn</code>返回<code>true</code>。省略第二个参数<code>fn</code>，将使用<code>Boolean</code>函数作为默认值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> any = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> arr.some(fn);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">any([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>], x =&gt; x &gt;= <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">any([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="arrayToCSV"><a href="#arrayToCSV" class="headerlink" title="arrayToCSV"></a>arrayToCSV</h2><p>将二维数组转换为逗号分隔值(CSV)字符串。</p><p>使用<code>Array.prototype.map()</code>和<code>Array.prototype.join(delimiter)</code>将单个一维数组(行)组合成字符串。使用<code>Array.prototype.join(&quot;\n&quot;)</code>将所有行组合成一个CSV字符串，用换行符分隔每行。省略第二个参数<code>delimiter</code>，将使用<code>,</code>作为默认分隔符。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayToCSV = <span class="function">(<span class="params">arr, delimiter = <span class="string">','</span></span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="function"><span class="params">v</span> =&gt;</span> v.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="string">`"<span class="subst">$&#123;x&#125;</span>"`</span>).join(delimiter)).join(<span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">arrayToCSV([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]]); <span class="comment">// '"a","b"\n"c","d"'</span></span><br><span class="line">arrayToCSV([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]], <span class="string">';'</span>); <span class="comment">// '"a";"b"\n"c";"d"'</span></span><br></pre></td></tr></table></figure><h2 id="bifurcate"><a href="#bifurcate" class="headerlink" title="bifurcate"></a>bifurcate</h2><p>将值分成两组。如果<code>filter</code>函数中的元素是真的，则数组中的相应元素属于第一组；否则，它属于第二组。</p><p>使用<code>Array.prototype.reduce()</code>和<code>Array.prototype.push()</code>根据<code>filter</code>函数将元素添加到组中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bifurcate = <span class="function">(<span class="params">arr, filter</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> (acc[filter[i] ? <span class="number">0</span> : <span class="number">1</span>].push(val), acc), [[], []]); <span class="comment">// js括号语法，返回后面的值，写法很6啊</span></span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">bifurcate([<span class="string">'beep'</span>, <span class="string">'boop'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>], [<span class="literal">true</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>]); <span class="comment">// [ ['beep', 'boop', 'bar'], ['foo'] ]</span></span><br></pre></td></tr></table></figure><h2 id="bifurcateBy"><a href="#bifurcateBy" class="headerlink" title="bifurcateBy"></a>bifurcateBy</h2><p>根据给定的函数将值分成两组，该函数可以指定输入数组中的元素属于哪个组。如果函数返回真，则集合元素属于第一组；否则，它属于第二组。</p><p>每个元素调用<code>fn</code>得到返回值，使用<code>Array.prototype.reduce()</code>和<code>Array.prototype.push()</code>将元素添加到组中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bifurcateBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> (acc[fn(val, i) ? <span class="number">0</span> : <span class="number">1</span>].push(val), acc), [[], []]);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">bifurcateBy([<span class="string">'beep'</span>, <span class="string">'boop'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>], x =&gt; x[<span class="number">0</span>] === <span class="string">'b'</span>); <span class="comment">// [ ['beep', 'boop', 'bar'], ['foo'] ]</span></span><br></pre></td></tr></table></figure><h2 id="chunk"><a href="#chunk" class="headerlink" title="chunk"></a>chunk</h2><p>将数组分成指定长度的多维数组。</p><p>使用<code>Array.from()</code>创建一个新的数组，该数组的长度等于要生成的块的长度。使用<code>Array.prototype.slice()</code>将新数组的元素映射到一个长度为给定长度的块。如果原数组不能被平均分割，则最后一块将包含剩余的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chunk = <span class="function">(<span class="params">arr, size</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil(arr.length / size) &#125;, (v, i) =&gt;</span><br><span class="line">    arr.slice(i * size, i * size + size)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">chunk([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">2</span>); <span class="comment">// [[1,2],[3,4],[5]]</span></span><br></pre></td></tr></table></figure><h2 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h2><p>从数组中删除无效值。</p><p>使用<code>Array.prototype.filter()</code>过滤掉无效值(<code>false</code>, <code>null</code>, <code>0</code>, <code>&quot;&quot;</code>, <code>undefined</code>, <code>NaN</code>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compact = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">compact([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'e'</span> * <span class="number">23</span>, <span class="literal">NaN</span>, <span class="string">'s'</span>, <span class="number">34</span>]); <span class="comment">// [ 1, 2, 3, 'a', 's', 34 ]</span></span><br></pre></td></tr></table></figure><h2 id="countBy"><a href="#countBy" class="headerlink" title="countBy"></a>countBy</h2><p>根据给定函数对数组中的元素进行分组，并返回每个组中元素总数。</p><p>使用<code>Array.prototype.map()</code>返回数组元素调用函数或属性后的值。使用<code>Array.prototype.reduce()</code>创建一个对象，其中键是根据前面的值生成的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> fn === <span class="string">'function'</span> ? fn : <span class="function"><span class="params">val</span> =&gt;</span> val[fn]).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">    acc[val] = (acc[val] || <span class="number">0</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> acc;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">countBy([<span class="number">6.1</span>, <span class="number">4.2</span>, <span class="number">6.3</span>], <span class="built_in">Math</span>.floor); <span class="comment">// &#123;4: 1, 6: 2&#125;</span></span><br><span class="line">countBy([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="string">'length'</span>); <span class="comment">// &#123;3: 2, 5: 1&#125;</span></span><br></pre></td></tr></table></figure><h2 id="countOccurrences"><a href="#countOccurrences" class="headerlink" title="countOccurrences"></a>countOccurrences</h2><p>计算数组中某个值的出现次数。</p><p>使用<code>Array.prototype.reduce()</code>，每当遇到数组中的特定值时，递增计数器。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countOccurrences = <span class="function">(<span class="params">arr, val</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> (v === val ? a + <span class="number">1</span> : a), <span class="number">0</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">countOccurrences([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="deepFlatten"><a href="#deepFlatten" class="headerlink" title="deepFlatten"></a>deepFlatten</h2><p>将数组展平。</p><p>借助递归。使用<code>Array.prototype.concat</code>结合空数组(<code>[]</code>)和扩展运算符(<code>...</code>)来展平数组。递归展平作用于数组的每个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepFlatten = <span class="function"><span class="params">arr</span> =&gt;</span> [].concat(...arr.map(<span class="function"><span class="params">v</span> =&gt;</span> (<span class="built_in">Array</span>.isArray(v) ? deepFlatten(v) : v)));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">deepFlatten([<span class="number">1</span>, [<span class="number">2</span>], [[<span class="number">3</span>], <span class="number">4</span>], <span class="number">5</span>]); <span class="comment">// [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><h2 id="difference"><a href="#difference" class="headerlink" title="difference"></a>difference</h2><p>返回两个数组之间的差异。</p><p>从<code>b</code>创建一个<code>Set</code>，然后在<code>a</code>上使用<code>Array.prototype.filter()</code>来只保留<code>b</code>中不包含的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> difference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b);</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(x));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">difference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]); <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure><h2 id="differenceBy"><a href="#differenceBy" class="headerlink" title="differenceBy"></a>differenceBy</h2><p>将给定的函数应用于两个数组的每个数组元素后，返回两个数组之间的差异。</p><p>通过对<code>b</code>中的每个元素调用<code>fn</code>来创建一个<code>Set</code>，然后将<code>Array.protototype.filter()</code>和<code>a</code>中元素调用<code>fn</code>的结果结合使用，只保留先前创建的集合中不包含的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> differenceBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b.map(fn));</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(fn(x)));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">differenceBy([<span class="number">2.1</span>, <span class="number">1.2</span>], [<span class="number">2.3</span>, <span class="number">3.4</span>], <span class="built_in">Math</span>.floor); <span class="comment">// [1.2]</span></span><br><span class="line">differenceBy([&#123; <span class="attr">x</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;], [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;], v =&gt; v.x); <span class="comment">// [ &#123; x: 2 &#125; ]</span></span><br></pre></td></tr></table></figure><h2 id="differenceWith"><a href="#differenceWith" class="headerlink" title="differenceWith"></a>differenceWith</h2><p>过滤掉数组中比较函数不返回<code>true</code>的所有值。</p><p>使用<code>Array.prototype.filter()</code>和<code>Array.prototype.findindex()</code>查找适当的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> differenceWith = <span class="function">(<span class="params">arr, val, comp</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">a</span> =&gt;</span> val.findIndex(<span class="function"><span class="params">b</span> =&gt;</span> comp(a, b)) === <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">differenceWith([<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>], [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>], (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)); <span class="comment">// [1, 1.2]</span></span><br></pre></td></tr></table></figure><h2 id="drop"><a href="#drop" class="headerlink" title="drop"></a>drop</h2><p>返回一个从左边移除n个元素后的新数组。</p><p>使用<code>Array.prototype.slice()</code>从左侧移除指定数量的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> drop = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(n);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// [2,3]</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>); <span class="comment">// [3]</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">42</span>); <span class="comment">// []</span></span><br></pre></td></tr></table></figure><h2 id="dropRight"><a href="#dropRight" class="headerlink" title="dropRight"></a>dropRight</h2><p>返回一个从右边移除n个元素后的新数组。</p><p>使用<code>Array.prototype.slice()</code>从右侧移除指定数量的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> drop = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, -n);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// [1,2]</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>); <span class="comment">// [1]</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">42</span>); <span class="comment">// []</span></span><br></pre></td></tr></table></figure><h2 id="dropRightWhile"><a href="#dropRightWhile" class="headerlink" title="dropRightWhile"></a>dropRightWhile</h2><p>从数组末尾移除元素，直到传递的函数返回true。返回数组中的剩余元素。</p><p>使用<code>Array.protototype.slice()</code>循环数组，直到函数返回值为<code>true</code>。返回剩余元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropRightWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[arr.length - <span class="number">1</span>])) arr = arr.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">dropRightWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &lt; <span class="number">3</span>); <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure><h2 id="dropWhile"><a href="#dropWhile" class="headerlink" title="dropWhile"></a>dropWhile</h2><p>从数组开头移除元素，直到传递的函数返回true。返回数组中的剩余元素。</p><p>循环数组，使用<code>Array.prototype.slice()</code>删除数组的第一个元素，直到函数返回值为<code>true</code>。返回剩余元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[<span class="number">0</span>])) arr = arr.slice(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">dropWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &gt;= <span class="number">3</span>); <span class="comment">// [3,4]</span></span><br></pre></td></tr></table></figure><h2 id="everyNth"><a href="#everyNth" class="headerlink" title="everyNth"></a>everyNth</h2><p>返回数组中顺序为nth倍数的元素。</p><p>使用<code>Array.prototype.filter()</code>创建一个新数组，该数组包含给定数组中顺序为nth倍数的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> everyNth = <span class="function">(<span class="params">arr, nth</span>) =&gt;</span> arr.filter(<span class="function">(<span class="params">e, i</span>) =&gt;</span> i % nth === nth - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">everyNth([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="number">2</span>); <span class="comment">// [ 2, 4, 6 ]</span></span><br></pre></td></tr></table></figure><h2 id="filterNonUnique"><a href="#filterNonUnique" class="headerlink" title="filterNonUnique"></a>filterNonUnique</h2><p>过滤掉数组中的非唯一值。</p><p>使用<code>Array.prototype.filter()</code>创建包含唯一值的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUnique = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="function"><span class="params">i</span> =&gt;</span> arr.indexOf(i) === arr.lastIndexOf(i));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">filterNonUnique([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// [1, 3, 5]</span></span><br></pre></td></tr></table></figure><h2 id="filterNonUniqueBy"><a href="#filterNonUniqueBy" class="headerlink" title="filterNonUniqueBy"></a>filterNonUniqueBy</h2><p>基于提供的比较器函数过滤掉数组中的非唯一值。</p><p>基于比较器函数<code>fn</code>，对只包含唯一值的数组使用<code>Array.prototype.filter()</code>和<code>Array. prototype.every()</code>。比较器函数接受四个参数：两个被比较元素的值及其索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUniqueBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> arr.every(<span class="function">(<span class="params">x, j</span>) =&gt;</span> (i === j) === fn(v, x, i, j)));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">filterNonUniqueBy(</span><br><span class="line">  [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'a'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'b'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="string">'c'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'d'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'e'</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  (a, b) =&gt; a.id == b.id</span><br><span class="line">); <span class="comment">// [ &#123; id: 2, value: 'c' &#125; ]</span></span><br></pre></td></tr></table></figure><h2 id="findLast"><a href="#findLast" class="headerlink" title="findLast"></a>findLast</h2><p>返回调用所给函数返回真值的最后一个元素。</p><p>使用<code>Array.prototype.filter()</code>过滤<code>fn</code>返回假值的元素，使用<code>Array.prototype.pop()</code>获取最后一个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> findLast = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span> arr.filter(fn).pop();</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">findLast([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">1</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="findLastIndex"><a href="#findLastIndex" class="headerlink" title="findLastIndex"></a>findLastIndex</h2><p>返回调用所给函数返回真值的最后一个元素的索引。</p><p>使用<code>Array.prototype.map()</code>将每个元素与其索引和值映射到一个数组。使用<code>Array.prototype.filter()</code>过滤<code>fn</code>返回假值的元素，使用<code>Array.prototype.pop()</code>获取最后一个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> findLastIndex = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .map(<span class="function">(<span class="params">val, i</span>) =&gt;</span> [i, val])</span><br><span class="line">    .filter(<span class="function">(<span class="params">[i, val]</span>) =&gt;</span> fn(val, i, arr))</span><br><span class="line">    .pop()[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">findLastIndex([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">1</span>); <span class="comment">// 2 (index of the value 3)</span></span><br></pre></td></tr></table></figure><h2 id="flatten"><a href="#flatten" class="headerlink" title="flatten"></a>flatten</h2><p>将数组展平到指定的深度。</p><p>使用递归，对于每一深度级别，深度递减1。使用<code>Array.prototype.reduce()</code>和<code>Array.prototype.concat()</code>合并元素或数组。一般情况下，如果深度等于1则停止递归。省略第二个参数，<code>depth</code>仅展平到深度1 (单个展平)。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 理解起来有点困难</span></span><br><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">arr, depth = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(depth &gt; <span class="number">1</span> &amp;&amp; <span class="built_in">Array</span>.isArray(v) ? flatten(v, depth - <span class="number">1</span>) : v), []);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">flatten([<span class="number">1</span>, [<span class="number">2</span>], <span class="number">3</span>, <span class="number">4</span>]); <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">flatten([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>], <span class="number">6</span>], <span class="number">7</span>], <span class="number">8</span>], <span class="number">2</span>); <span class="comment">// [1, 2, 3, [4, 5], 6, 7, 8]</span></span><br></pre></td></tr></table></figure><h2 id="forEachRight"><a href="#forEachRight" class="headerlink" title="forEachRight"></a>forEachRight</h2><p>从数组的最后一个元素开始，为每个数组元素执行给定的函数。</p><p>使用<code>Array.protototype.slice(0)</code>克隆给定的数组，使用<code>Array.protototype.reverse()</code>反转数组，使用<code>Array.protototype.foreach()</code>循环反向数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> forEachRight = <span class="function">(<span class="params">arr, callback</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .slice(<span class="number">0</span>)</span><br><span class="line">    .reverse()</span><br><span class="line">    .forEach(callback);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">forEachRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], val =&gt; <span class="built_in">console</span>.log(val)); <span class="comment">// '4', '3', '2', '1'</span></span><br></pre></td></tr></table></figure><h2 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a>groupBy</h2><p>根据给定函数对数组元素进行分组。</p><p>使用<code>Array.prototype.map()</code>对数组元素调用到函数或属性。使用<code>Array.protototype .reduce()</code>创建一个对象，其中的键是根据前面结果生成的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> fn === <span class="string">'function'</span> ? fn : <span class="function"><span class="params">val</span> =&gt;</span> val[fn]).reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> &#123;</span><br><span class="line">    acc[val] = (acc[val] || []).concat(arr[i]);</span><br><span class="line">    <span class="keyword">return</span> acc;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">groupBy([<span class="number">6.1</span>, <span class="number">4.2</span>, <span class="number">6.3</span>], <span class="built_in">Math</span>.floor); <span class="comment">// &#123;4: [4.2], 6: [6.1, 6.3]&#125;</span></span><br><span class="line">groupBy([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="string">'length'</span>); <span class="comment">// &#123;3: ['one', 'two'], 5: ['three']&#125;</span></span><br></pre></td></tr></table></figure><h2 id="head"><a href="#head" class="headerlink" title="head"></a>head</h2><p>返回数组的第一个元素。</p><p>使用<code>arr[0]</code>返回数组的第一个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">head([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="indexOfAll"><a href="#indexOfAll" class="headerlink" title="indexOfAll"></a>indexOfAll</h2><p>返回数组中<code>val</code>出现的所有索引。如果<code>val</code>从未出现，返回<code>[]</code>。</p><p>使用<code>Array.prototype.reduce()</code>循环元素并存储匹配元素的索引。返回索引数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> indexOfAll = <span class="function">(<span class="params">arr, val</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, el, i</span>) =&gt;</span> (el === val ? [...acc, i] : acc), []);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">indexOfAll([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>); <span class="comment">// [0,3]</span></span><br><span class="line">indexOfAll([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>); <span class="comment">// []</span></span><br></pre></td></tr></table></figure><h2 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h2><p>返回数组除了最后一个以外的所有元素。</p><p>使用<code>arr.slice(0, -1)</code>来返回除最后一个元素以外的所有元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initial = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initial([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// [1,2]</span></span><br></pre></td></tr></table></figure><h2 id="initialize2DArray"><a href="#initialize2DArray" class="headerlink" title="initialize2DArray"></a>initialize2DArray</h2><p>生成指定行列和值的二维数组。</p><p>使用<code>Array.prototype.map()</code>生成h行长度为w并填入值的数组。如果没有给定值，则默认为<code>null</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialize2DArray = <span class="function">(<span class="params">w, h, val = <span class="literal">null</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: h &#125;).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: w &#125;).fill(val));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initialize2DArray(<span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>); <span class="comment">// [[0,0], [0,0]]</span></span><br></pre></td></tr></table></figure><h2 id="initializeArrayWithRange"><a href="#initializeArrayWithRange" class="headerlink" title="initializeArrayWithRange"></a>initializeArrayWithRange</h2><p>初始化一个数组，该数组包含指定范围内的数字，并且按照指定步长递增。</p><p>使用<code>Array.from()</code>创建所需长度的数组(结束-开始+1)/步长，并在给定范围内用所需值填充数组。可以省略开始值默认是0。也可以省略步长来使用默认值1。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRange = <span class="function">(<span class="params">end, start = <span class="number">0</span>, step = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil(<span class="function">(<span class="params">end - start + <span class="number">1</span></span>) / <span class="params">step</span>) &#125;, (<span class="params">v, i</span>) =&gt;</span> i * step + start);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initializeArrayWithRange(<span class="number">5</span>); <span class="comment">// [0,1,2,3,4,5]</span></span><br><span class="line">initializeArrayWithRange(<span class="number">7</span>, <span class="number">3</span>); <span class="comment">// [3,4,5,6,7]</span></span><br><span class="line">initializeArrayWithRange(<span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>); <span class="comment">// [0,2,4,6,8]</span></span><br></pre></td></tr></table></figure><h2 id="initializeArrayWithRangeRight"><a href="#initializeArrayWithRangeRight" class="headerlink" title="initializeArrayWithRangeRight"></a>initializeArrayWithRangeRight</h2><p>初始化一个数组，该数组包含指定范围内的数字（反向），并且按照指定步长递减。</p><p>使用<code>Array.from(Math.ceil((end+1-start)/step))</code>创建所需长度的数组(长度等于(结束-开始)/步长或(结束+1-开始)/步长 (包含结束))，并在给定范围内用所需值填充数组。可以省略开始值默认是0。也可以省略步长来使用默认值1。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRangeRight = <span class="function">(<span class="params">end, start = <span class="number">0</span>, step = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil((end + <span class="number">1</span> - start) / step) &#125;).map(</span><br><span class="line">    (v, i, arr) =&gt; (arr.length - i - <span class="number">1</span>) * step + start</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">5</span>); <span class="comment">// [5,4,3,2,1,0]</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">7</span>, <span class="number">3</span>); <span class="comment">// [7,6,5,4,3]</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>); <span class="comment">// [8,6,4,2,0]</span></span><br></pre></td></tr></table></figure><h2 id="initializeArrayWithValues"><a href="#initializeArrayWithValues" class="headerlink" title="initializeArrayWithValues"></a>initializeArrayWithValues</h2><p>用指定的值初始化并填充数组。</p><p>使用<code>Array(n)</code>创建所需长度的数组，用<code>fill(v)</code>根据所需值填充数组(v)。你可以省略<code>val</code>来使用默认值0。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithValues = <span class="function">(<span class="params">n, val = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Array</span>(n).fill(val);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initializeArrayWithValues(<span class="number">5</span>, <span class="number">2</span>); <span class="comment">// [2, 2, 2, 2, 2]</span></span><br></pre></td></tr></table></figure><h2 id="initializeNDArray"><a href="#initializeNDArray" class="headerlink" title="initializeNDArray"></a>initializeNDArray</h2><p>创建具有给定值的n维数组。</p><p>使用递归。用<code>Array.prototype.map()</code>生成行数组，其中每一行都是使用<code>initializendaray</code>初始化的新数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeNDArray = <span class="function">(<span class="params">val, ...args</span>) =&gt;</span></span><br><span class="line">  args.length === <span class="number">0</span></span><br><span class="line">    ? val</span><br><span class="line">    : <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: args[<span class="number">0</span>] &#125;).map(<span class="function"><span class="params">()</span> =&gt;</span> initializeNDArray(val, ...args.slice(<span class="number">1</span>)));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">initializeNDArray(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">// [1,1,1]</span></span><br><span class="line">initializeNDArray(<span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>); <span class="comment">// [[[5,5],[5,5]],[[5,5],[5,5]]]</span></span><br></pre></td></tr></table></figure><h2 id="intersection"><a href="#intersection" class="headerlink" title="intersection"></a>intersection</h2><p>返回两个数组中都存在的元素数组。</p><p>从<code>b</code>创建一个集合，然后在<code>a</code>上使用<code>Array.prototype.filter()</code>来只保留<code>b</code>中包含的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersection = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b);</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(x));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">intersection([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]); <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure><h2 id="intersectionBy"><a href="#intersectionBy" class="headerlink" title="intersectionBy"></a>intersectionBy</h2><p>将给定的函数应用于两个数组中的每个数组元素后，返回执行函数后第一个数组和第二个数组中相同的值。</p><p><code>b</code>中的所有元素执行<code>fn</code>后创建一个集合，然后在<code>a</code>上使用<code>Array.prototype.filter()</code>来保留将执行<code>fn</code>后结果在b中的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersectionBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b.map(fn));</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(fn(x)));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">intersectionBy([<span class="number">2.1</span>, <span class="number">1.2</span>], [<span class="number">2.3</span>, <span class="number">3.4</span>], <span class="built_in">Math</span>.floor); <span class="comment">// [2.1]</span></span><br></pre></td></tr></table></figure><h2 id="intersectionWith"><a href="#intersectionWith" class="headerlink" title="intersectionWith"></a>intersectionWith</h2><p>使用给定的函数返回两个数组中都通过的元素数组。</p><p>使用<code>Array.prototype.filter()</code>和<code>Array.prototype.findindex()</code>与所提供的函数结合使用来确定公共值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersectionWith = <span class="function">(<span class="params">a, b, comp</span>) =&gt;</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> b.findIndex(<span class="function"><span class="params">y</span> =&gt;</span> comp(x, y)) !== <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">intersectionWith([<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>], [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">3.9</span>], (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)); <span class="comment">// [1.5, 3, 0]</span></span><br></pre></td></tr></table></figure><h2 id="isSorted"><a href="#isSorted" class="headerlink" title="isSorted"></a>isSorted</h2><p>如果数组按升序排序，则返回1；如果数组按降序排序，则返回-1；如果数组未排序，则返回0。</p><p>计算前两个元素的排序方向。使用<code>Object.entries()</code>循环数组元素并成对比较它们。如果方向改变，返回0；如果到达最后一个元素，返回排序方向。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSorted = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> direction = -(arr[<span class="number">0</span>] - arr[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [i, val] <span class="keyword">of</span> arr.entries()) &#123;</span><br><span class="line">    direction = !direction ? -(arr[i - <span class="number">1</span>] - arr[i]) : direction;</span><br><span class="line">    <span class="keyword">if</span> (i === arr.length - <span class="number">1</span>) <span class="keyword">return</span> !direction ? <span class="number">0</span> : direction;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((val - arr[i + <span class="number">1</span>]) * direction &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">isSorted([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]); <span class="comment">// 1</span></span><br><span class="line">isSorted([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]); <span class="comment">// -1</span></span><br><span class="line">isSorted([<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>]); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h2 id="join"><a href="#join" class="headerlink" title="join"></a>join</h2><p>将数组中的所有元素连接成一个字符串并返回该字符串。使用起始分隔符和末端分隔符。</p><p>使用<code>Array.prototype.reduce()</code>将元素组合成一个字符串。省略第二个参数<code>separator</code>时，将使用<code>,</code>作为默认分隔符。省略第三个参数<code>end</code>时，默认情况下使用与<code>separator</code>相同的值分隔。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> join = <span class="function">(<span class="params">arr, separator = <span class="string">','</span>, end = separator</span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (acc, val, i) =&gt;</span><br><span class="line">      i === arr.length - <span class="number">2</span></span><br><span class="line">        ? acc + val + end</span><br><span class="line">        : i === arr.length - <span class="number">1</span></span><br><span class="line">          ? acc + val</span><br><span class="line">          : acc + val + separator,</span><br><span class="line">    <span class="string">''</span></span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>], <span class="string">','</span>, <span class="string">'&amp;'</span>); <span class="comment">// "pen,pineapple,apple&amp;pen"</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>], <span class="string">','</span>); <span class="comment">// "pen,pineapple,apple,pen"</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>]); <span class="comment">// "pen,pineapple,apple,pen"</span></span><br></pre></td></tr></table></figure><h2 id="JSONtoCSV"><a href="#JSONtoCSV" class="headerlink" title="JSONtoCSV"></a>JSONtoCSV</h2><p>将对象数组转换为仅包含指定<code>columns</code>的逗号分隔值(CSV)字符串。</p><p>使用<code>Array.prototype.join(分隔符)</code>将<code>columns</code>中的所有名称组合起来，创建第一行。使用<code>Array.prototype.map()</code>和<code>Array.prototype.reduce()</code>为每个对象创建一行，用空字符串替换不存在的值，只映射<code>columns</code>中的值。使用<code>Array.prototype.join(&#39;\n&#39;)</code>将所有行组合成一个字符串。省略第三个参数<code>delimiter</code>，将会使用默认分隔符<code>,</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> JSONtoCSV = <span class="function">(<span class="params">arr, columns, delimiter = <span class="string">','</span></span>) =&gt;</span></span><br><span class="line">  [</span><br><span class="line">    columns.join(delimiter),</span><br><span class="line">    ...arr.map(<span class="function"><span class="params">obj</span> =&gt;</span></span><br><span class="line">      columns.reduce(</span><br><span class="line">        (acc, key) =&gt; <span class="string">`<span class="subst">$&#123;acc&#125;</span><span class="subst">$&#123;!acc.length ? <span class="string">''</span> : delimiter&#125;</span>"<span class="subst">$&#123;!obj[key] ? <span class="string">''</span> : obj[key]&#125;</span>"`</span>,</span><br><span class="line">        <span class="string">''</span></span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  ].join(<span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">JSONtoCSV([&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">6</span> &#125;, &#123; <span class="attr">b</span>: <span class="number">7</span> &#125;], [<span class="string">'a'</span>, <span class="string">'b'</span>]); <span class="comment">// 'a,b\n"1","2"\n"3","4"\n"6",""\n"","7"'</span></span><br><span class="line">JSONtoCSV([&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">6</span> &#125;, &#123; <span class="attr">b</span>: <span class="number">7</span> &#125;], [<span class="string">'a'</span>, <span class="string">'b'</span>], <span class="string">';'</span>); <span class="comment">// 'a;b\n"1";"2"\n"3";"4"\n"6";""\n"";"7"'</span></span><br></pre></td></tr></table></figure><h2 id="last"><a href="#last" class="headerlink" title="last"></a>last</h2><p>返回数组中最后一个元素。</p><p>使用<code>arr.length - 1</code>计算给定数组的最后一个元素的索引并返回它。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function"><span class="params">arr</span> =&gt;</span> arr[arr.length - <span class="number">1</span>];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">last([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="longestItem"><a href="#longestItem" class="headerlink" title="longestItem"></a>longestItem</h2><p>获取任意数量的可迭代对象或具有length属性的对象，并返回最长的对象。如果多个对象具有相同的长度，则将返回第一个对象。如果未提供参数，则返回<code>undefined</code>。</p><p>使用<code>Array.prototype.reduce()</code>，比较对象的长度以找到最长的对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> longestItem = <span class="function">(<span class="params">...vals</span>) =&gt;</span> vals.reduce(<span class="function">(<span class="params">a, x</span>) =&gt;</span> (x.length &gt; a.length ? x : a));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">longestItem(<span class="string">'this'</span>, <span class="string">'is'</span>, <span class="string">'a'</span>, <span class="string">'testcase'</span>); <span class="comment">// 'testcase'</span></span><br><span class="line">longestItem(...[<span class="string">'a'</span>, <span class="string">'ab'</span>, <span class="string">'abc'</span>]); <span class="comment">// 'abc'</span></span><br><span class="line">longestItem(...[<span class="string">'a'</span>, <span class="string">'ab'</span>, <span class="string">'abc'</span>], <span class="string">'abcd'</span>); <span class="comment">// 'abcd'</span></span><br><span class="line">longestItem([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line">longestItem([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="string">'foobar'</span>); <span class="comment">// 'foobar'</span></span><br></pre></td></tr></table></figure><h2 id="mapObject"><a href="#mapObject" class="headerlink" title="mapObject"></a>mapObject</h2><p>使用函数将数组的值映射到对象，其中键值对使用原始值作为键和计算后的映射值。</p><p>使用匿名内部函数声明未定义的内存空间，使用闭包存储返回值。使用一个新数组存储数组，新数组包含函数在传入数组上的映射，并使用逗号运算符返回第二步，而无需从一个上下文移动到另一个上下文(由于闭包和操作顺序)。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapObject = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  (<span class="function"><span class="params">a</span> =&gt;</span> (</span><br><span class="line">    (a = [arr, arr.map(fn)]), a[<span class="number">0</span>].reduce(<span class="function">(<span class="params">acc, val, ind</span>) =&gt;</span> ((acc[val] = a[<span class="number">1</span>][ind]), acc), &#123;&#125;)</span><br><span class="line">  ))();</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> squareIt = <span class="function"><span class="params">arr</span> =&gt;</span> mapObject(arr, a =&gt; a * a);</span><br><span class="line">squareIt([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// &#123; 1: 1, 2: 4, 3: 9 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="maxN"><a href="#maxN" class="headerlink" title="maxN"></a>maxN</h2><p>从提供的数组中返回n个最大的元素。如果n大于或等于提供的数组长度，则返回原始数组(按降序排序)。</p><p>将<code>Array.prototype.sort()</code>与扩展运算符(<code>...</code>)结合使用浅拷贝数组并按降序排序。使用<code>Array.prototype.slice()</code>获取指定数量的元素。省略第二个参数<code>n</code>，得到只有一个元素的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> maxN = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> [...arr].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a).slice(<span class="number">0</span>, n);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">maxN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// [3]</span></span><br><span class="line">maxN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>); <span class="comment">// [3,2]</span></span><br></pre></td></tr></table></figure><h2 id="minN"><a href="#minN" class="headerlink" title="minN"></a>minN</h2><p>从提供的数组中返回n个最小的元素。如果n大于或等于提供的数组长度，则返回原始数组(按升序排序)。</p><p>将<code>Array.prototype.sort()</code>与扩展运算符(<code>...</code>)结合使用浅拷贝数组并按升序排序。使用<code>Array.prototype.slice()</code>获取指定数量的元素。省略第二个参数<code>n</code>，得到只有一个元素的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> minN = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> [...arr].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b).slice(<span class="number">0</span>, n);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">minN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// [1]</span></span><br><span class="line">minN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>); <span class="comment">// [1,2]</span></span><br></pre></td></tr></table></figure><h2 id="none"><a href="#none" class="headerlink" title="none"></a>none</h2><p>如果集合中的所有元素执行给定的函数后都返回false，则返回true，否则返回false。</p><p>使用<code>Array.prototype.some()</code>测试集合中的任何元素是否基于<code>fn</code>返回<code>true</code>。省略第二个参数<code>fn</code>，将使用<code>Boolean</code>作为默认值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> none = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> !arr.some(fn);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">none([<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>], x =&gt; x == <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">none([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="nthElement"><a href="#nthElement" class="headerlink" title="nthElement"></a>nthElement</h2><p>返回数组的第n个元素。</p><p>使用<code>Array.prototype.slice()</code>首先获得包含第n个元素的数组。如果索引超出范围，则返回<code>undefined</code>。省略第二个参数<code>n</code>，取数组的第一个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onst nthElement = <span class="function">(<span class="params">arr, n = <span class="number">0</span></span>) =&gt;</span> (n === <span class="number">-1</span> ? arr.slice(n) : arr.slice(n, n + <span class="number">1</span>))[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">nthElement([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], <span class="number">1</span>); <span class="comment">// 'b'</span></span><br><span class="line">nthElement([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>], <span class="number">-3</span>); <span class="comment">// 'a'</span></span><br></pre></td></tr></table></figure><h2 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h2><p>将指定数量的元素移动到数组的末尾。</p><p>使用两次<code>Array.prototype.slice()</code>获得指定索引之后的元素和指定索引之前的元素。使用扩展运算符(<code>...</code>)将两者组合成一个数组。如果<code>offset</code>为负数，则元素将从尾部移动到头部。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> offset = <span class="function">(<span class="params">arr, offset</span>) =&gt;</span> [...arr.slice(offset), ...arr.slice(<span class="number">0</span>, offset)];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">offset([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">2</span>); <span class="comment">// [3, 4, 5, 1, 2]</span></span><br><span class="line">offset([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">-2</span>); <span class="comment">// [4, 5, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><h2 id="partition"><a href="#partition" class="headerlink" title="partition"></a>partition</h2><p>根据每个元素执行函数后返回的布尔值，将元素分成两类数组。</p><p>使用<code>Array.prototype.reduce()</code>创建一个由两个数组组成的数组。使用<code>Array.prototype.push()</code>将<code>fn</code>返回<code>true</code>的元素添加到第一个数组，将<code>fn</code>返回<code>false</code>的元素添加到第二个数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> partition = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (acc, val, i, arr) =&gt; &#123;</span><br><span class="line">      acc[fn(val, i, arr) ? <span class="number">0</span> : <span class="number">1</span>].push(val);</span><br><span class="line">      <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;,</span><br><span class="line">    [[], []]</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> users = [&#123; <span class="attr">user</span>: <span class="string">'barney'</span>, <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;, &#123; <span class="attr">user</span>: <span class="string">'fred'</span>, <span class="attr">age</span>: <span class="number">40</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;];</span><br><span class="line">partition(users, o =&gt; o.active); <span class="comment">// [[&#123; 'user': 'fred',    'age': 40, 'active': true &#125;],[&#123; 'user': 'barney',  'age': 36, 'active': false &#125;]]</span></span><br></pre></td></tr></table></figure><h2 id="permutations"><a href="#permutations" class="headerlink" title="permutations"></a>permutations</h2><p>警告：这个函数的执行时间随着数组元素的增加呈指数增长。当浏览器试图计算所有不同的组合时，超过8到10个条目都会导致浏览器挂起。</p><p>生成数组元素的所有组合(包含重复元素)。</p><p>使用递归。对给定数组中进行元素遍历，为剩余元素创建所有的组合。使用<code>Array.prototype.map()</code>将该元素与剩余部分排列组合起来，然后使用<code>Array.prototype.reduce()</code>将所有排列组合成一个数组。一般情况是数组长度为2或1。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> permutations = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> arr.length === <span class="number">2</span> ? [arr, [arr[<span class="number">1</span>], arr[<span class="number">0</span>]]] : arr;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(</span><br><span class="line">    (acc, item, i) =&gt;</span><br><span class="line">      acc.concat(</span><br><span class="line">        permutations([...arr.slice(<span class="number">0</span>, i), ...arr.slice(i + <span class="number">1</span>)]).map(<span class="function"><span class="params">val</span> =&gt;</span> [item, ...val])</span><br><span class="line">      ),</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">permutations([<span class="number">1</span>, <span class="number">33</span>, <span class="number">5</span>]); <span class="comment">// [ [ 1, 33, 5 ], [ 1, 5, 33 ], [ 33, 1, 5 ], [ 33, 5, 1 ], [ 5, 1, 33 ], [ 5, 33, 1 ] ]</span></span><br></pre></td></tr></table></figure><h2 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h2><p>变异原数组以过滤掉指定的值。</p><p>使用<code>Array.prototype.filter()</code>和<code>Array.prototype.include()</code>提取不需要的值。使用<code>Array.protototype.length = 0</code>将将数组的长度重置为零来对数组中传递的值进行变异，并使用<code>Array.prototype.push()</code>重新填充该值。</p><p>(对于不改变原始数组的代码片段，请参见<code>without</code>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pull = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> argState = <span class="built_in">Array</span>.isArray(args[<span class="number">0</span>]) ? args[<span class="number">0</span>] : args;</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !argState.includes(v));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line">pull(myArray, <span class="string">'a'</span>, <span class="string">'c'</span>); <span class="comment">// myArray = [ 'b', 'b' ]</span></span><br></pre></td></tr></table></figure><h2 id="pullAtIndex"><a href="#pullAtIndex" class="headerlink" title="pullAtIndex"></a>pullAtIndex</h2><p>变异原数组以筛选出指定索引处的值。</p><p>使用<code>Array.prototype.filter()</code>和<code>Array.prototype.include()</code>提取不需要的值。使用<code>Array.protototype.length = 0</code>将数组的长度重置为零来对数组中传递的值进行变异，并使用<code>Array.prototype.push()</code>重新填充该值。使用<code>Array.prototype.push()</code>来跟踪所提取的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtIndex = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = [];</span><br><span class="line">  <span class="keyword">let</span> pulled = arr</span><br><span class="line">    .map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> (pullArr.includes(i) ? removed.push(v) : v))</span><br><span class="line">    .filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(i));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">  <span class="keyword">return</span> removed;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</span><br><span class="line"><span class="keyword">let</span> pulled = pullAtIndex(myArray, [<span class="number">1</span>, <span class="number">3</span>]); <span class="comment">// myArray = [ 'a', 'c' ] , pulled = [ 'b', 'd' ]</span></span><br></pre></td></tr></table></figure><h2 id="pullAtValue"><a href="#pullAtValue" class="headerlink" title="pullAtValue"></a>pullAtValue</h2><p>变异原数组以过滤掉指定的值。返回删除的元素。</p><p>使用<code>Array.prototype.filter()</code>和<code>Array.prototype.include()</code>提取不需要的值。使用<code>Array.protototype.length = 0</code>将数组的长度重置为零来对数组中传递的值进行变异，并使用<code>Array.prototype.push()</code>重新填充该值。使用<code>Array.prototype.push()</code>来跟踪所提取的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtValue = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = [],</span><br><span class="line">    pushToRemove = arr.forEach(<span class="function">(<span class="params">v, i</span>) =&gt;</span> (pullArr.includes(v) ? removed.push(v) : v)),</span><br><span class="line">    mutateTo = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(v));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  mutateTo.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">  <span class="keyword">return</span> removed;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</span><br><span class="line"><span class="keyword">let</span> pulled = pullAtValue(myArray, [<span class="string">'b'</span>, <span class="string">'d'</span>]); <span class="comment">// myArray = [ 'a', 'c' ] , pulled = [ 'b', 'd' ]</span></span><br></pre></td></tr></table></figure><h2 id="pullBy"><a href="#pullBy" class="headerlink" title="pullBy"></a>pullBy</h2><p>基于给定的迭代函数，对原始数组进行变异以过滤掉指定的值。</p><p>检查函数中是否提供了最后一个参数。使用<code>Array.prototype.map()</code>将迭代函数<code>fn</code>应用于所有数组元素。使用<code>Array.prototype.filter()</code>和<code>Array.prototype.include()</code>提取不需要的值。使用<code>Array.protototype.length = 0</code>将数组的长度重置为零来对数组中传递的值进行变异，并使用<code>Array.prototype.push()</code>重新填充该值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullBy = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = args.length;</span><br><span class="line">  <span class="keyword">let</span> fn = length &gt; <span class="number">1</span> ? args[length - <span class="number">1</span>] : <span class="literal">undefined</span>;</span><br><span class="line">  fn = <span class="keyword">typeof</span> fn == <span class="string">'function'</span> ? (args.pop(), fn) : <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">let</span> argState = (<span class="built_in">Array</span>.isArray(args[<span class="number">0</span>]) ? args[<span class="number">0</span>] : args).map(<span class="function"><span class="params">val</span> =&gt;</span> fn(val));</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !argState.includes(fn(v)));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">var</span> myArray = [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">3</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;];</span><br><span class="line">pullBy(myArray, [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">3</span> &#125;], o =&gt; o.x); <span class="comment">// myArray = [&#123; x: 2 &#125;]</span></span><br></pre></td></tr></table></figure><h2 id="reducedFilter"><a href="#reducedFilter" class="headerlink" title="reducedFilter"></a>reducedFilter</h2><p>基于条件过滤对象数组，同时过滤掉未指定的键。</p><p>使用<code>Array.prototype.filter()</code>根据函数<code>fn</code>过滤数组，返回满足条件的对象。在过滤后的数组上，使用<code>Array.prototype.map()</code>返回新对象，使用<code>Array.prototype.reduce()</code>过滤掉未作为键参数提供的键。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducedFilter = <span class="function">(<span class="params">data, keys, fn</span>) =&gt;</span></span><br><span class="line">  data.filter(fn).map(<span class="function"><span class="params">el</span> =&gt;</span></span><br><span class="line">    keys.reduce(<span class="function">(<span class="params">acc, key</span>) =&gt;</span> &#123;</span><br><span class="line">      acc[key] = el[key];</span><br><span class="line">      <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">    name: <span class="string">'john'</span>,</span><br><span class="line">    age: <span class="number">24</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">    name: <span class="string">'mike'</span>,</span><br><span class="line">    age: <span class="number">50</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">reducedFilter(data, [<span class="string">'id'</span>, <span class="string">'name'</span>], item =&gt; item.age &gt; <span class="number">24</span>); <span class="comment">// [&#123; id: 2, name: 'mike'&#125;]</span></span><br></pre></td></tr></table></figure><h2 id="reduceSuccessive"><a href="#reduceSuccessive" class="headerlink" title="reduceSuccessive"></a>reduceSuccessive</h2><p>对累加器和数组中的每个元素应用一个函数(从左到右)，返回一个值变大的数组。</p><p>使用<code>Array.prototype.reduce()</code>将给定的函数应用于数组，存储每个新的结果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduceSuccessive = <span class="function">(<span class="params">arr, fn, acc</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">res, val, i, arr</span>) =&gt;</span> (res.push(fn(res.slice(<span class="number">-1</span>)[<span class="number">0</span>], val, i, arr)), res), [acc]);</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">reduceSuccessive([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], (acc, val) =&gt; acc + val, <span class="number">0</span>); <span class="comment">// [0, 1, 3, 6, 10, 15, 21]</span></span><br></pre></td></tr></table></figure><h2 id="reduceWhich"><a href="#reduceWhich" class="headerlink" title="reduceWhich"></a>reduceWhich</h2><p>应用提供的函数设置比较规则后，返回数组的最小值/最大值。</p><p>将<code>Array.prototype.reduce()</code>与<code>comparator</code>函数结合使用，在数组中取得对应的元素。可以省略第二个参数，使用返回数组中最小元素作为默认参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简直精髓</span></span><br><span class="line"><span class="keyword">const</span> reduceWhich = <span class="function">(<span class="params">arr, comparator = (a, b</span>) =&gt;</span> a - b) =&gt;</span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (comparator(a, b) &gt;= <span class="number">0</span> ? b : a));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">reduceWhich([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>]); <span class="comment">// 1</span></span><br><span class="line">reduceWhich([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>], (a, b) =&gt; b - a); <span class="comment">// 3</span></span><br><span class="line">reduceWhich(</span><br><span class="line">  [&#123; <span class="attr">name</span>: <span class="string">'Tom'</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'Jack'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'Lucy'</span>, <span class="attr">age</span>: <span class="number">9</span> &#125;],</span><br><span class="line">  (a, b) =&gt; a.age - b.age</span><br><span class="line">); <span class="comment">// &#123;name: "Lucy", age: 9&#125;</span></span><br></pre></td></tr></table></figure><h2 id="reject"><a href="#reject" class="headerlink" title="reject"></a>reject</h2><p>接收函数和数组，使用<code>Array.prototype.Filter()</code>，但仅在<code>pred(x) = false</code>时保留<code>x</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reject = <span class="function">(<span class="params">pred, array</span>) =&gt;</span> array.filter(<span class="function">(<span class="params">...args</span>) =&gt;</span> !pred(...args));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">reject(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// [1, 3, 5]</span></span><br><span class="line">reject(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">4</span>, [<span class="string">'Apple'</span>, <span class="string">'Pear'</span>, <span class="string">'Kiwi'</span>, <span class="string">'Banana'</span>]); <span class="comment">// ['Pear', 'Kiwi']</span></span><br></pre></td></tr></table></figure><h2 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h2><p>从数组中移除给定函数返回false的元素。</p><p>使用<code>Array.prototype.filter()</code>查找返回真值的数组元素，使用<code>Array.prototype.splice()</code>删除元素。函数是用三个参数(值、索引、数组)调用的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> remove = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.isArray(arr)</span><br><span class="line">    ? arr.filter(func).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">      arr.splice(arr.indexOf(val), <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">return</span> acc.concat(val);</span><br><span class="line">    &#125;, [])</span><br><span class="line">    : [];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">remove([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">0</span>); <span class="comment">// [2, 4]</span></span><br></pre></td></tr></table></figure><h2 id="sample"><a href="#sample" class="headerlink" title="sample"></a>sample</h2><p>从数组中返回随机元素</p><p>使用<code>Math.random()</code>生成一个随机数，并乘上数组长度，然后使用<code>Math.floor()</code>向下取整。这个方法也适用于字符串。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sample = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)];</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sample([<span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>]); <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><h2 id="sampleSize"><a href="#sampleSize" class="headerlink" title="sampleSize"></a>sampleSize</h2><p>从数组中以唯一键获取n个随机元素，直到数组结束。</p><p>使用<a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" rel="external nofollow noopener noreferrer" target="_blank">Fisher-Yates</a>算法洗牌数组。使用<code>Array.prototype.slice()</code>获得前<code>n</code>个元素。省略第二个参数<code>n</code>，从数组中获取第一个元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sampleSize = <span class="function">(<span class="params">[...arr], n = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> m = arr.length;</span><br><span class="line">  <span class="keyword">while</span> (m) &#123;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m--);</span><br><span class="line">    [arr[m], arr[i]] = [arr[i], arr[m]];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr.slice(<span class="number">0</span>, n);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sampleSize([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>); <span class="comment">// [3,1]</span></span><br><span class="line">sampleSize([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>); <span class="comment">// [2,3,1]</span></span><br></pre></td></tr></table></figure><h2 id="shank"><a href="#shank" class="headerlink" title="shank"></a>shank</h2><p>和<code>Array.prototype.splice()</code>功能相同，但是返回一个新的数组，而不是改变原始数组。</p><p>在移除现有元素/添加新元素后，使用<code>Array.prototype.slice()</code>和<code>Array.prototype .concat()</code>获得包含新内容的新数组。省略第二个参数<code>index</code>，则从<code>0</code>开始。省略第三个参数<code>DelCount</code>，不删除元素。省略第四个参数元素，不添加新元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shank = <span class="function">(<span class="params">arr, index = <span class="number">0</span>, delCount = <span class="number">0</span>, ...elements</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .slice(<span class="number">0</span>, index)</span><br><span class="line">    .concat(elements)</span><br><span class="line">    .concat(arr.slice(index + delCount));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> names = [<span class="string">'alpha'</span>, <span class="string">'bravo'</span>, <span class="string">'charlie'</span>];</span><br><span class="line"><span class="keyword">const</span> namesAndDelta = shank(names, <span class="number">1</span>, <span class="number">0</span>, <span class="string">'delta'</span>); <span class="comment">// [ 'alpha', 'delta', 'bravo', 'charlie' ]</span></span><br><span class="line"><span class="keyword">const</span> namesNoBravo = shank(names, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// [ 'alpha', 'charlie' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(names); <span class="comment">// ['alpha', 'bravo', 'charlie']</span></span><br></pre></td></tr></table></figure><h2 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a>shuffle</h2><p>随机排列数组值的顺序，返回一个新数组。</p><p>使用<a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" rel="external nofollow noopener noreferrer" target="_blank">Fisher-Yates</a>算法对数组元素重新排序。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shuffle = <span class="function">(<span class="params">[...arr]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> m = arr.length;</span><br><span class="line">  <span class="keyword">while</span> (m) &#123;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m--);</span><br><span class="line">    [arr[m], arr[i]] = [arr[i], arr[m]];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line"><span class="keyword">const</span> foo = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">shuffle(foo); <span class="comment">// [2, 3, 1], foo = [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h2 id="similarity"><a href="#similarity" class="headerlink" title="similarity"></a>similarity</h2><p>返回出现在两个数组中的元素数组。</p><p>使用<code>Array.prototype.filter()</code>过滤非公共值，这些值是由<code>Array.prototype.include()</code>确定的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> similarity = <span class="function">(<span class="params">arr, values</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> values.includes(v));</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">similarity([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]); <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure><h2 id="sortedIndex"><a href="#sortedIndex" class="headerlink" title="sortedIndex"></a>sortedIndex</h2><p>返回将值插入数组后仍保持其排序顺序的索引。</p><p>检查数组是否按降序排序。使用<code>Array.prototype.findIndex()</code>找到元素应该插入的索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedIndex = <span class="function">(<span class="params">arr, n</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = arr[<span class="number">0</span>] &gt; arr[arr.length - <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">const</span> index = arr.findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? n &gt;= el : n &lt;= el));</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? arr.length : index;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sortedIndex([<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>], <span class="number">4</span>); <span class="comment">// 1</span></span><br><span class="line">sortedIndex([<span class="number">30</span>, <span class="number">50</span>], <span class="number">40</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="sortedIndexBy"><a href="#sortedIndexBy" class="headerlink" title="sortedIndexBy"></a>sortedIndexBy</h2><p>基于提供的函数，返回将值插入数组后仍保持其排序顺序的索引。</p><p>检查数组是否按降序排序。根据函数<code>fn</code>，使用<code>Array.prototype.findIndex()</code>找到元素应该插入的适当索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedIndexBy = <span class="function">(<span class="params">arr, n, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = fn(arr[<span class="number">0</span>]) &gt; fn(arr[arr.length - <span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">const</span> val = fn(n);</span><br><span class="line">  <span class="keyword">const</span> index = arr.findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? val &gt;= fn(el) : val &lt;= fn(el)));</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? arr.length : index;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sortedIndexBy([&#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">5</span> &#125;], &#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, o =&gt; o.x); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h2 id="sortedLastIndex"><a href="#sortedLastIndex" class="headerlink" title="sortedLastIndex"></a>sortedLastIndex</h2><p>返回最后索引，在该索引处，值插入数组保持其排序顺序。</p><p>检查数组是否按降序排序。使用<code>Array.prototype.reverse()</code>和<code>Array.prototype.findIndex()</code>找到元素应该插入的最后一个索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedLastIndex = <span class="function">(<span class="params">arr, n</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = arr[<span class="number">0</span>] &gt; arr[arr.length - <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">const</span> index = arr.reverse().findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? n &lt;= el : n &gt;= el));</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? <span class="number">0</span> : arr.length - index;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sortedLastIndex([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">40</span>], <span class="number">30</span>); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h2 id="sortedLastIndexBy"><a href="#sortedLastIndexBy" class="headerlink" title="sortedLastIndexBy"></a>sortedLastIndexBy</h2><p>基于提供的函数，返回当值插入数组后保持其排序顺序的最后索引。</p><p>检查数组是否按降序排序。使用<code>Array.prototype.map()</code>将函数应用于数组的所有元素。使用<code>Array.prototype.reverse()</code>和<code>Array.prototype.findIndex()</code>根据提供的函数，找到元素应该插入的最后一个索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedLastIndexBy = <span class="function">(<span class="params">arr, n, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = fn(arr[<span class="number">0</span>]) &gt; fn(arr[arr.length - <span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">const</span> val = fn(n);</span><br><span class="line">  <span class="keyword">const</span> index = arr</span><br><span class="line">    .map(fn)</span><br><span class="line">    .reverse()</span><br><span class="line">    .findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? val &lt;= el : val &gt;= el));</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? <span class="number">0</span> : arr.length - index;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// EXAMPLES</span></span><br><span class="line">sortedLastIndexBy([&#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">5</span> &#125;], &#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, o =&gt; o.x); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-tags"><a href="/tags/JavaScript/" rel="tag"># JavaScript</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/09/front-end-performance-checklist/" rel="next" title="前端性能优化检查清单"><i class="fa fa-chevron-left"></i> 前端性能优化检查清单</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/01/flex-layout-computed/" rel="prev" title="flex布局占据空间计算方法">flex布局占据空间计算方法 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="abcdGJJ"><p class="site-author-name" itemprop="name">abcdGJJ</p><p class="site-description motion-element" itemprop="description">这里是高嘉君的个人博客</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">65</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">53</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="//pengtikui.cn" title="PP_K’s Blog" target="_blank">PP_K’s Blog</a></li><li class="links-of-blogroll-item"><a href="//hufangyun.com" title="胡方运的博客" target="_blank">胡方运的博客</a></li><li class="links-of-blogroll-item"><a href="//youthliuxi.cn" title="刘熹的博客" target="_blank">刘熹的博客</a></li><li class="links-of-blogroll-item"><a href="//lolcode.cn" title="万事静心" target="_blank">万事静心</a></li><li class="links-of-blogroll-item"><a href="//yixin.hufangyun.com" title="雁南之北" target="_blank">雁南之北</a></li><li class="links-of-blogroll-item"><a href="//vincentli.cn" title="vi my.cnf" target="_blank">vi my.cnf</a></li><li class="links-of-blogroll-item"><a href="//youthol.top" title="绿岛之美" target="_blank">绿岛之美</a></li><li class="links-of-blogroll-item"><a href="//mahui.youthliuxi.cn" title="小马姑娘" target="_blank">小马姑娘</a></li><li class="links-of-blogroll-item"><a href="//www.unique-liu.com" title="技术源码分享" target="_blank">技术源码分享</a></li><li class="links-of-blogroll-item"><a href="//blog.summerpro.cn" title="summerpro" target="_blank">summerpro</a></li><li class="links-of-blogroll-item"><a href="//www.dligo.cc" title="帝果" target="_blank">帝果</a></li><li class="links-of-blogroll-item"><a href="//blog.hs5233.com" title="猎豹园地" target="_blank">猎豹园地</a></li><li class="links-of-blogroll-item"><a href="//blog.hizmz.com" title="助梦者的博客" target="_blank">助梦者的博客</a></li><li class="links-of-blogroll-item"><a href="//www.fmwhahaha.com" title="FMW哈哈哈" target="_blank">FMW哈哈哈</a></li><li class="links-of-blogroll-item"><a href="//passer-by.com" title="路人甲" target="_blank">路人甲</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Adapter"><span class="nav-number">1.</span> <span class="nav-text">Adapter</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ary"><span class="nav-number">1.1.</span> <span class="nav-text">ary</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call"><span class="nav-number">1.2.</span> <span class="nav-text">call</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#collectInto"><span class="nav-number">1.3.</span> <span class="nav-text">collectInto</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#flip"><span class="nav-number">1.4.</span> <span class="nav-text">flip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#over"><span class="nav-number">1.5.</span> <span class="nav-text">over</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#overArgs"><span class="nav-number">1.6.</span> <span class="nav-text">overArgs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pipeAsyncFunctions"><span class="nav-number">1.7.</span> <span class="nav-text">pipeAsyncFunctions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pipeFunctions"><span class="nav-number">1.8.</span> <span class="nav-text">pipeFunctions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#promisify"><span class="nav-number">1.9.</span> <span class="nav-text">promisify</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rearg"><span class="nav-number">1.10.</span> <span class="nav-text">rearg</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spreadOver"><span class="nav-number">1.11.</span> <span class="nav-text">spreadOver</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unary"><span class="nav-number">1.12.</span> <span class="nav-text">unary</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Array"><span class="nav-number">2.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#all"><span class="nav-number">2.1.</span> <span class="nav-text">all</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#allEqual"><span class="nav-number">2.2.</span> <span class="nav-text">allEqual</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#any"><span class="nav-number">2.3.</span> <span class="nav-text">any</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#arrayToCSV"><span class="nav-number">2.4.</span> <span class="nav-text">arrayToCSV</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bifurcate"><span class="nav-number">2.5.</span> <span class="nav-text">bifurcate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bifurcateBy"><span class="nav-number">2.6.</span> <span class="nav-text">bifurcateBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chunk"><span class="nav-number">2.7.</span> <span class="nav-text">chunk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#compact"><span class="nav-number">2.8.</span> <span class="nav-text">compact</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#countBy"><span class="nav-number">2.9.</span> <span class="nav-text">countBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#countOccurrences"><span class="nav-number">2.10.</span> <span class="nav-text">countOccurrences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#deepFlatten"><span class="nav-number">2.11.</span> <span class="nav-text">deepFlatten</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#difference"><span class="nav-number">2.12.</span> <span class="nav-text">difference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#differenceBy"><span class="nav-number">2.13.</span> <span class="nav-text">differenceBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#differenceWith"><span class="nav-number">2.14.</span> <span class="nav-text">differenceWith</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#drop"><span class="nav-number">2.15.</span> <span class="nav-text">drop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dropRight"><span class="nav-number">2.16.</span> <span class="nav-text">dropRight</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dropRightWhile"><span class="nav-number">2.17.</span> <span class="nav-text">dropRightWhile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dropWhile"><span class="nav-number">2.18.</span> <span class="nav-text">dropWhile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#everyNth"><span class="nav-number">2.19.</span> <span class="nav-text">everyNth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#filterNonUnique"><span class="nav-number">2.20.</span> <span class="nav-text">filterNonUnique</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#filterNonUniqueBy"><span class="nav-number">2.21.</span> <span class="nav-text">filterNonUniqueBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#findLast"><span class="nav-number">2.22.</span> <span class="nav-text">findLast</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#findLastIndex"><span class="nav-number">2.23.</span> <span class="nav-text">findLastIndex</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#flatten"><span class="nav-number">2.24.</span> <span class="nav-text">flatten</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#forEachRight"><span class="nav-number">2.25.</span> <span class="nav-text">forEachRight</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#groupBy"><span class="nav-number">2.26.</span> <span class="nav-text">groupBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#head"><span class="nav-number">2.27.</span> <span class="nav-text">head</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#indexOfAll"><span class="nav-number">2.28.</span> <span class="nav-text">indexOfAll</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initial"><span class="nav-number">2.29.</span> <span class="nav-text">initial</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initialize2DArray"><span class="nav-number">2.30.</span> <span class="nav-text">initialize2DArray</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initializeArrayWithRange"><span class="nav-number">2.31.</span> <span class="nav-text">initializeArrayWithRange</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initializeArrayWithRangeRight"><span class="nav-number">2.32.</span> <span class="nav-text">initializeArrayWithRangeRight</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initializeArrayWithValues"><span class="nav-number">2.33.</span> <span class="nav-text">initializeArrayWithValues</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#initializeNDArray"><span class="nav-number">2.34.</span> <span class="nav-text">initializeNDArray</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#intersection"><span class="nav-number">2.35.</span> <span class="nav-text">intersection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#intersectionBy"><span class="nav-number">2.36.</span> <span class="nav-text">intersectionBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#intersectionWith"><span class="nav-number">2.37.</span> <span class="nav-text">intersectionWith</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#isSorted"><span class="nav-number">2.38.</span> <span class="nav-text">isSorted</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#join"><span class="nav-number">2.39.</span> <span class="nav-text">join</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSONtoCSV"><span class="nav-number">2.40.</span> <span class="nav-text">JSONtoCSV</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#last"><span class="nav-number">2.41.</span> <span class="nav-text">last</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#longestItem"><span class="nav-number">2.42.</span> <span class="nav-text">longestItem</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mapObject"><span class="nav-number">2.43.</span> <span class="nav-text">mapObject</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maxN"><span class="nav-number">2.44.</span> <span class="nav-text">maxN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#minN"><span class="nav-number">2.45.</span> <span class="nav-text">minN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#none"><span class="nav-number">2.46.</span> <span class="nav-text">none</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nthElement"><span class="nav-number">2.47.</span> <span class="nav-text">nthElement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#offset"><span class="nav-number">2.48.</span> <span class="nav-text">offset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#partition"><span class="nav-number">2.49.</span> <span class="nav-text">partition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#permutations"><span class="nav-number">2.50.</span> <span class="nav-text">permutations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pull"><span class="nav-number">2.51.</span> <span class="nav-text">pull</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pullAtIndex"><span class="nav-number">2.52.</span> <span class="nav-text">pullAtIndex</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pullAtValue"><span class="nav-number">2.53.</span> <span class="nav-text">pullAtValue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pullBy"><span class="nav-number">2.54.</span> <span class="nav-text">pullBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reducedFilter"><span class="nav-number">2.55.</span> <span class="nav-text">reducedFilter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduceSuccessive"><span class="nav-number">2.56.</span> <span class="nav-text">reduceSuccessive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduceWhich"><span class="nav-number">2.57.</span> <span class="nav-text">reduceWhich</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reject"><span class="nav-number">2.58.</span> <span class="nav-text">reject</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#remove"><span class="nav-number">2.59.</span> <span class="nav-text">remove</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sample"><span class="nav-number">2.60.</span> <span class="nav-text">sample</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sampleSize"><span class="nav-number">2.61.</span> <span class="nav-text">sampleSize</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shank"><span class="nav-number">2.62.</span> <span class="nav-text">shank</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shuffle"><span class="nav-number">2.63.</span> <span class="nav-text">shuffle</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#similarity"><span class="nav-number">2.64.</span> <span class="nav-text">similarity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sortedIndex"><span class="nav-number">2.65.</span> <span class="nav-text">sortedIndex</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sortedIndexBy"><span class="nav-number">2.66.</span> <span class="nav-text">sortedIndexBy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sortedLastIndex"><span class="nav-number">2.67.</span> <span class="nav-text">sortedLastIndex</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sortedLastIndexBy"><span class="nav-number">2.68.</span> <span class="nav-text">sortedLastIndexBy</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">abcdGJJ</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">125k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">1:54</span></div><div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow noopener noreferrer">Hexo</a> 强力驱动<span class="post-meta-divider">|</span><a href="//www.miitbeian.gov.cn" target="_blank">鲁ICP备15017412号-1</a></div><span class="post-meta-divider">|</span><div class="theme-info">主题 – <a class="theme-link" target="_blank" href="https://theme-next.org" rel="external nofollow noopener noreferrer">NexT.Pisces</a></div><div class="upyunLogo">cdn提供商：<a href="//www.upyun.com/" target="_blank">又拍云</a> <img src="/images/upyunLogo.png" alt="又拍云logo" width="100" style="display:inline-block;vertical-align:middle"></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/js/src/utils.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/motion.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/affix.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=1.0.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=1.0.2"></script><script>function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text(counter.time + 1);
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text('Counter not initialized! See more at console err msg.');
              console.error('ATTENTION! LeanCloud counter has security bug, see here how to solve it: https://github.com/theme-next/hexo-leancloud-counter-security. \n But you also can use LeanCloud without security, by set \'security\' option to \'false\'.');
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "2bbhORHl0lFj56CjcjlM9RkS-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "2bbhORHl0lFj56CjcjlM9RkS-gzGzoHsz",
                'X-LC-Key': "KHwlv9OpkyfWVdg95gdNHDnv",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });</script></body></html><!-- rebuild by neat -->